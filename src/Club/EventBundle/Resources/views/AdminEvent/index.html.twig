{% extends "ClubLayoutBundle:Default:base.html.twig" %}

{% block header %}<h1>Event</h1>{% endblock %}

{% block body %}

<p class="box"><a href="{{ path('admin_event_event_new') }}" class="btn-create"><span>Create event</span></a></p>

<form method="post" action="{{ path('admin_event_event_batch') }}">
<table>
  <thead>
    <tr>
      <th>[x]</th>
      <th>Id</th>
      <th>Event</th>
      <th>Attends</th>
      <th>Price</th>
      <th>Start date</th>
      <th>Stop date</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tfoot>
    <tr class="bg">
      <td colspan="8" class="arrow-01">
        <select name="" class="input-text">
          <option value="">Delete selected</option>
          <option value="">Remove selected</option>
          <option value="">Rename selected</option>
          <option value="">Copy selected</option>
        </select>&nbsp;<input type="submit" value="OK" />
      </td>
    </tr>
  </tfoot>
  <tbody>
  {% for event in events %}
    <tr>
      <td><input type="checkbox" /></td>
      <td>{{ event.id }}</td>
      <td>{{ event.eventName }}</td>
      <td>{{ event.attends|length }} / {% if event.maxAttends == 0 %}-{% else %}{{ event.maxAttends }}{% endif %}</td>
      <td>{{ event.price }}</td>
      <td>{{ event.startDate|date('Y-m-d H:i') }}</td>
      <td>{{ event.stopDate|date('Y-m-d H:i') }}</td>
      <td>
        {% include "::edit_link.html.twig" with {'url':path('admin_event_event_edit', { 'id':event.id })} %}
        {% include "::delete_link.html.twig" with {'url':path('admin_event_event_delete', { 'id':event.id })} %}
        <a href="{{ path('admin_event_attend', {'id':event.id}) }}">Attends</a>
      </td>
    </tr>
  {% else %}
  <tr>
    <td colspan="8">There are no events at the time</td>
  </tr>
  {% endfor %}
  </tbody>
</table>
</form>
{% endblock %}
